<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0078)file:///var/folders/31/3xmjzmkd5hs84rghxxlj3j8m0000gn/T/BC4_5SUlde/Report.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<style>
.AlignLeft { text-align: left; }
.AlignCenter { text-align: center; }
.AlignRight { text-align: right; }
body { font-family: sans-serif; font-size: 11pt; }
td { vertical-align: top; padding-left: 4px; padding-right: 4px; }

tr.SectionGap td { font-size: 4px; border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionAll td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionBegin td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.SectionEnd td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionMiddle td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.SubsectionAll td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
tr.SubsectionEnd td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
table.fc { border-top: 1px solid Black; border-left: 1px solid Black; width: 100%; font-family: monospace; font-size: 10pt; }
td.TextItemInsigAdd { color: #000000; background-color: #EEEEFF; }
td.TextItemInsigDel { color: #000000; background-color: #EEEEFF; text-decoration: line-through; }
td.TextItemInsigMod { color: #000000; background-color: #EEEEFF; }
td.TextItemInsigOrphan { color: #000000; background-color: #FAEEFF; }
td.TextItemNum { color: #696969; background-color: #F0F0F0; }
td.TextItemSame { color: #000000; background-color: #FFFFFF; }
td.TextItemSigAdd { color: #000000; background-color: #FFE3E3; }
td.TextItemSigDel { color: #000000; background-color: #FFE3E3; text-decoration: line-through; }
td.TextItemSigMod { color: #000000; background-color: #FFE3E3; }
td.TextItemSigOrphan { color: #000000; background-color: #F1E3FF; }
.TextSegInsigDiff { color: #0000FF; }
.TextSegReplacedDiff { color: #0000FF; font-style: italic; }
.TextSegSigDiff { color: #FF0000; }
</style>
<title>Compare v09 to v10</title>
</head>
<body>
Compare v09 to v10<br>
Produced: 13/1/17 9:07:51 am<br>
&nbsp; &nbsp;
<br>
Mode:&nbsp; All &nbsp;
<br>
Left file: /Users/peetj/github/cs-js-beg-platformer/versions/game-09.js &nbsp;
<br>
Right file: /Users/peetj/github/cs-js-beg-platformer/versions/game-10.js &nbsp;
<br>
<table class="fc" cellspacing="0" cellpadding="0">
<tbody><tr class="SectionAll">
<td class="TextItemNum AlignRight">1</td>
<td class="TextItemNum AlignRight">1</td>
<td class="TextItemSame">/*</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; Title: game-0<span class="TextSegSigDiff">9</span>.js</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; Description: In this version of the code,<span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">we</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">are</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">going</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">to</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">ensure</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">that</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">a</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">lev</span><span class="TextSegSigDiff">el</span> <span class="TextSegSigDiff">complete</span> <span class="TextSegSigDiff">m</span><span class="TextSegSigDiff">essag</span>e <span class="TextSegSigDiff">is</span> <span class="TextSegSigDiff">displaye</span>d <span class="TextSegSigDiff">if</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">the</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">player</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">collects</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">5</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="TextSegSigDiff">all</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">the</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">coins.</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2</td>
<td class="TextItemSigMod">&nbsp; Title: game-<span class="TextSegSigDiff">1</span>0.js</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3</td>
<td class="TextItemSigMod">&nbsp; Description: In this version of the code,</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">4</td>
<td class="TextItemSigMod">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">we</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">are</span> <span class="TextSegSigDiff">going</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">cre</span><span class="TextSegSigDiff">at</span>e <span class="TextSegSigDiff">a</span> <span class="TextSegSigDiff">s</span><span class="TextSegSigDiff">econ</span>d <span class="TextSegSigDiff">l</span><span class="TextSegSigDiff">ev</span><span class="TextSegSigDiff">e</span><span class="TextSegSigDiff">l</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">6</td>
<td class="TextItemNum AlignRight">5</td>
<td class="TextItemSame">*/</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7</td>
<td class="TextItemNum AlignRight">6</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8</td>
<td class="TextItemNum AlignRight">7</td>
<td class="TextItemSame">/* GLOBAL STATE VARIABLES START WITH A __ */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">9</td>
<td class="TextItemNum AlignRight">8</td>
<td class="TextItemSame">var _player = null;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">10</td>
<td class="TextItemNum AlignRight">9</td>
<td class="TextItemSame">var _viewportX = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">11</td>
<td class="TextItemNum AlignRight">10</td>
<td class="TextItemSame">var _scoreDisplay = "";</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">12</td>
<td class="TextItemNum AlignRight">11</td>
<td class="TextItemSame">var _gameStartTime = (new Date()).getTime();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">13</td>
<td class="TextItemNum AlignRight">12</td>
<td class="TextItemSame">var _timeLeftDisplay = "";</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">14</td>
<td class="TextItemNum AlignRight">13</td>
<td class="TextItemSame">var _secondsTotal = 120;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">15</td>
<td class="TextItemNum AlignRight">14</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">15</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">var</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">_tileMap</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">=</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">[</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">16</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">17</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">"level":</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">1,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">18</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">"map":</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">[</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">19</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,1],[0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">8],[0,13],[0,4],[0,8],[0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">8],[0,5],[0,4],[0,5],[0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">8]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">20</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,8],[0,4],[0,3],[0,4],[0,6],[0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">8],[0,23]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">21</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,8],[0,19],[0,4],[0,3],[0,4],[0,6],[0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">8],[0,4]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">22</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,11],[0,4],[0,12],[0,4],[0,14],[0,6]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">23</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,16],[0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">8],[0,13],[0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">8],[0,11]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">24</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[4,1],[0,9],[0,37]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">25</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,48]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">26</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[1,48]]</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">27</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">]</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">28</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">},</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">29</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">30</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">"level":</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">2,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">31</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">"map":</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">[</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">32</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[4,1],[0,1],[0,12],[0,1],[0,8],[0,1],[0,5],[0,1],[0,5],[0,1]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">33</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,8],[0,1],[0,3],[0,1],[0,6],[0,1],[0,23]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">34</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,8],[0,19],[0,1],[0,3],[0,1],[0,6],[0,1],[0,4]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">35</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,11],[0,1],[0,12],[0,1],[0,14],[0,6]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">36</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,16],[8,1],[0,13],[8,1],[0,11]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">37</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,9],[4,1],[0,37]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">38</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[0,48]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">39</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">[[1,48]]</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">40</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">]</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">41</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">]</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">16</td>
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemSame">/* State */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">17</td>
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemSame">var __STATE = {};</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">18</td>
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemSame">__STATE.level = 1;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">19</td>
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemSame">__STATE.gameStarted = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">20</td>
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemSame">__STATE.gameOver = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">21</td>
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemSame">__STATE.timeLeft = _secondsTotal;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">22</td>
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemSame">__STATE.currentScore = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">23</td>
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemSame">__STATE.gameOverIsDisplaying = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">24</td>
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemSame">__STATE.numCoinsToCollect = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">25</td>
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemSame">__STATE.levelComplete = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">26</td>
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">27</td>
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemSame">const PLAYER_SPEED = 4;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">28</td>
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemSame">const WALKER_VELOCITY = -80;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">29</td>
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemSame">const EVENT_PLAYER_DIE = "EVENT_PLAYER_DIE";</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">30</td>
<td class="TextItemNum AlignRight">58</td>
<td class="TextItemSame">const EVENT_PLAYER_HIT_WALKER = "EVENT_PLAYER_HIT_WALKER";</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">31</td>
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemSame">const EVENT_PLAYER_HIT_WALL = "EVENT_PLAYER_HIT_WALL";</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">32</td>
<td class="TextItemNum AlignRight">60</td>
<td class="TextItemSame">const EVENT_GAME_OVER = "EVENT_GAME_OVER";</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">33</td>
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemSame">const EVENT_LEVEL_COMPLETE = "EVENT_LEVEL_COMPLETE";</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">34</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">35</td>
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemSame">const SCREENWIDTH = 800;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">36</td>
<td class="TextItemNum AlignRight">63</td>
<td class="TextItemSame">const SCREENHEIGHT = 600;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">37</td>
<td class="TextItemNum AlignRight">64</td>
<td class="TextItemSame">const TILE_WIDTH = 80;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">38</td>
<td class="TextItemNum AlignRight">65</td>
<td class="TextItemSame">const TILE_HEIGHT = 60;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">39</td>
<td class="TextItemNum AlignRight">66</td>
<td class="TextItemSame">const GRAVITY_STRENGTH = 1000;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">40</td>
<td class="TextItemNum AlignRight">67</td>
<td class="TextItemSame">const RIGHT = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">41</td>
<td class="TextItemNum AlignRight">68</td>
<td class="TextItemSame">const LEFT = 1;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemNum AlignRight">69</td>
<td class="TextItemSame">const NONE = 2;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemNum AlignRight">70</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">var</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">_player</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">=</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">null;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">var</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">tileMap</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">=</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">[</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[0,1],[8,1],[0,13],[4,1],[0,8],[8,1],[0,5],[4,1],[0,5],[8,1]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[0,8],[4,1],[0,3],[4,1],[0,6],[8,1],[0,23]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[0,8],[0,19],[4,1],[0,3],[4,1],[0,6],[8,1],[0,4]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[0,11],[4,1],[0,12],[4,1],[0,14],[0,6]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[0,16],[8,1],[0,13],[8,1],[0,11]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[0,9],[4,1],[0,37]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[0,48]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">[[1,48]]</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">];</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemNum AlignRight">71</td>
<td class="TextItemSame">Crafty.init(800, 600, document.getElementById('gamecanvas'));</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">72</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">58</td>
<td class="TextItemNum AlignRight">73</td>
<td class="TextItemSame">setupGlobalBindings();</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemNum AlignRight">74</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">60</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">var assets = {'tiles': ['img/tile-1.png', 'img/platform.png', 'img/platformx2.png']};</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">75</td>
<td class="TextItemSigMod">var assets = {'tiles': ['img/tile-1.png', 'img/platform.png', 'img/platformx2.png'<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">'img/sun.png'</span>]};</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemNum AlignRight">76</td>
<td class="TextItemSame">var playerSprite = { 'sprites': { 'img/playerSprite.png': { tile: 50, tileh: 77, map: { man_left: [0, 1], man_right: [0, 2], jump_right: [6, 4] } } } };</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemNum AlignRight">77</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">63</td>
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemSame">initialiseGame();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">64</td>
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">65</td>
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemSame">function initialiseGame () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">66</td>
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemSame">&nbsp; Crafty.load(assets, function(){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">67</td>
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; reset();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">68</td>
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; loadBackground();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">69</td>
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; loadSprites();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">70</td>
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; generateMap();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">71</td>
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; spawnEntities();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">72</td>
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; displayText();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">73</td>
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; /* Load sounds */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">74</td>
<td class="TextItemNum AlignRight">89</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; Crafty.audio.add("coin", "sounds/coin.wav");</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">75</td>
<td class="TextItemNum AlignRight">90</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; __STATE.gameStarted = true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">76</td>
<td class="TextItemNum AlignRight">91</td>
<td class="TextItemSame">&nbsp; });</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">77</td>
<td class="TextItemNum AlignRight">92</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemNum AlignRight">93</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemNum AlignRight">94</td>
<td class="TextItemSame">function loadBackground () {</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; Crafty.background(<span class="TextSegSigDiff">'#3BB9FF'</span>);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">95</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">var</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">bgColor</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">=</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">shade('#3BB9FF',</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">__STATE.level</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">*</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">4);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">96</td>
<td class="TextItemSigMod">&nbsp; <span class="TextSegSigDiff">//</span>Crafty.background(<span class="TextSegSigDiff">bgColor</span>);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemNum AlignRight">97</td>
<td class="TextItemSame">&nbsp; //Crafty.background('#FFFFFF url(img/bg.png) repeat-x center center');</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">98</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">Crafty.e('BG,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">2D,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">DOM,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Image')</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">99</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">.attr({</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">x:</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">y:</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">z:</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">0,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">w:3840,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">h:600</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">})</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">100</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">.image('img/bg.png',</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">'repeat-x');</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">101</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">102</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">103</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">function</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">shade(color,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">percent){</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">if</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">(color.length</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">&gt;</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">7</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">)</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">return</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">shadeRGBColor(color,percent);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">else</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">return</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">shadeColor2(color,percent);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">function</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">shadeColor2(color,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">percent)</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">var</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">f=parseInt(color.slice(1),16),t=percent&lt;0?0:255,p=percent&lt;0?percent*-1:percent,R=f&gt;&gt;16,G=f&gt;&gt;8&amp;0x00FF,B=f&amp;0x0000FF;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">return</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">"#"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemNum AlignRight">113</td>
<td class="TextItemSame">function loadSprites () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemNum AlignRight">114</td>
<td class="TextItemSame">&nbsp; Crafty.load(playerSprite);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemSame">function spawnEntities () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">89</td>
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemSame">&nbsp; spawnPlayer();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">90</td>
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemSame">&nbsp; spawnWalkers();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">91</td>
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">92</td>
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">93</td>
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemSame">function spawnPlayer (){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">94</td>
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemSame">&nbsp; _player = Crafty.e('Player, 2D, DOM, man_right, SpriteAnimation, Twoway, Collision, Gravity, Tween, Keyboard')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">95</td>
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .attr({</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">96</td>
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; x: 50,</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">97</td>
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; y: 263</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">98</td>
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">99</td>
<td class="TextItemNum AlignRight">128</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .reel('moveRight', 500, [[0, 2], [1, 2], [2, 2], [3, 2], [4, 2], [5, 2], [6, 2], [7, 2]])</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">100</td>
<td class="TextItemNum AlignRight">129</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .reel('moveLeft', 500, [[0, 1], [1, 1], [2, 1], [3, 1], [4, 1], [5, 1], [6, 1], [7, 1]])</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">101</td>
<td class="TextItemNum AlignRight">130</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .twoway(200, 510)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">102</td>
<td class="TextItemNum AlignRight">131</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .gravity('FloorTile')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">103</td>
<td class="TextItemNum AlignRight">132</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .gravityConst(GRAVITY_STRENGTH)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemNum AlignRight">133</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('KeyDown',</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemNum AlignRight">134</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; function (e) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemNum AlignRight">135</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(__STATE.levelComplete)</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (Crafty.keydown['37'] &amp;&amp; Crafty.keydown['39']) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.pauseAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.resetAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.isMoving = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">113</td>
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">114</td>
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (e.key === Crafty.keys.RIGHT_ARROW &amp;&amp; !this.isJumping) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.animate('moveRight', -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemNum AlignRight">147</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if (e.key === Crafty.keys.LEFT_ARROW &amp;&amp; !this.isJumping) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemNum AlignRight">148</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.animate('moveLeft', -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemNum AlignRight">149</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemNum AlignRight">150</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.isMoving = true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemNum AlignRight">151</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemNum AlignRight">152</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; )</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemNum AlignRight">153</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('KeyUp',</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemNum AlignRight">154</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; function (e) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemNum AlignRight">155</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(__STATE.levelComplete)</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemNum AlignRight">156</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">157</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemNum AlignRight">158</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((this.isPlaying('moveRight') &amp;&amp; e.key === Crafty.keys.RIGHT_ARROW) ||</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">128</td>
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (this.isPlaying('moveLeft') &amp;&amp; e.key === Crafty.keys.LEFT_ARROW)) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">129</td>
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.pauseAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">130</td>
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.resetAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">131</td>
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* Check/Set the player's moving state */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">132</td>
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (e.key === Crafty.keys.RIGHT_ARROW || e.key === Crafty.keys.LEFT_ARROW) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">133</td>
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.isMoving = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">134</td>
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">135</td>
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* Kickstart animation if we need to */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (this.isDown('RIGHT_ARROW') &amp;&amp; !this.isJumping) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.animate('moveRight', -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.isMoving = true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemNum AlignRight">172</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemNum AlignRight">173</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if (this.isDown('LEFT_ARROW') &amp;&amp; !this.isJumping) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemNum AlignRight">174</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.animate('moveLeft', -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemNum AlignRight">175</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.isMoving = true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemNum AlignRight">176</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemNum AlignRight">177</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">147</td>
<td class="TextItemNum AlignRight">178</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; )</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">148</td>
<td class="TextItemNum AlignRight">179</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('Moved', function (obj) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">149</td>
<td class="TextItemNum AlignRight">180</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if (this.x &gt;= (SCREENWIDTH / 2) &amp;&amp; this.x &lt;= 3440) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">150</td>
<td class="TextItemNum AlignRight">181</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; Crafty.viewport.scroll('_x', (this.x - (SCREENWIDTH / 2)) * -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">151</td>
<td class="TextItemNum AlignRight">182</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; displayScore();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">152</td>
<td class="TextItemNum AlignRight">183</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; displayTimeLeft();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">153</td>
<td class="TextItemNum AlignRight">184</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">154</td>
<td class="TextItemNum AlignRight">185</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">155</td>
<td class="TextItemNum AlignRight">186</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('CheckJumping', function (ground) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">156</td>
<td class="TextItemNum AlignRight">187</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.isJumping = true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">157</td>
<td class="TextItemNum AlignRight">188</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; var&nbsp; canJump, doubleJump;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">158</td>
<td class="TextItemNum AlignRight">189</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if(this.canJump === false &amp;&amp; !this.inDoubleJumpMode){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemNum AlignRight">190</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* Lets check if there is a platform above us */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var platforms = Crafty('Tile');</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(var i=0; i &lt; platforms.length; i++){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; var platform = platforms[i];</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; platform = Crafty(platform);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(platform.x &lt; this.x &amp;&amp; platform.y &lt; this.y &amp;&amp; platform.x+160 &gt; this.x){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* We probably have a platform above us so don't allow double jump */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; canJump = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; doubleJump = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.canJump = canJump !== undefined ? canJump : true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">172</td>
<td class="TextItemNum AlignRight">203</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.inDoubleJumpMode = doubleJump !== undefined ? doubleJump : true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">173</td>
<td class="TextItemNum AlignRight">204</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">174</td>
<td class="TextItemNum AlignRight">205</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; else if(this.inDoubleJumpMode){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">175</td>
<td class="TextItemNum AlignRight">206</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.canJump = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">176</td>
<td class="TextItemNum AlignRight">207</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">177</td>
<td class="TextItemNum AlignRight">208</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.pauseAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">178</td>
<td class="TextItemNum AlignRight">209</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.resetAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">179</td>
<td class="TextItemNum AlignRight">210</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; //this.animate('jump', 1)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">180</td>
<td class="TextItemNum AlignRight">211</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.sprite(this.currentDirection === RIGHT ? 6 : 2, 4);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">181</td>
<td class="TextItemNum AlignRight">212</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">182</td>
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('LandedOnGround', function (ground) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">183</td>
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if (this.isJumping) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">184</td>
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.isJumping = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">185</td>
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.gravityConst(GRAVITY_STRENGTH);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">186</td>
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* We cannot get the direction from the velocity. We'll use the current loaded sprite animation&nbsp; */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">187</td>
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.sprite(0, this.getReel().id === 'moveRight' ? 2 : 1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">188</td>
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* We may need to enable controls here as we may have disabled them */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">189</td>
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(this.bounced){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">190</td>
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.velocity().x = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.bounced = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.inDoubleJumpMode = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; /* Will need to enable controls in some circumstances */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemNum AlignRight">227</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if(!__STATE.levelComplete){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemNum AlignRight">228</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.enableControl();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemNum AlignRight">229</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemNum AlignRight">230</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemNum AlignRight">231</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('NewDirection', function (obj) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemNum AlignRight">232</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; /* 0 is neither right nor left so we don't care about it */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemNum AlignRight">233</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if (obj.x === 0) return;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">203</td>
<td class="TextItemNum AlignRight">234</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.currentDirection = obj.x === 1 ? RIGHT : LEFT;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">204</td>
<td class="TextItemNum AlignRight">235</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if (this.currentDirection === RIGHT &amp;&amp; !this.isJumping) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">205</td>
<td class="TextItemNum AlignRight">236</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (this.isMoving) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">206</td>
<td class="TextItemNum AlignRight">237</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* Start running again */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">207</td>
<td class="TextItemNum AlignRight">238</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.animate('moveRight', -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">208</td>
<td class="TextItemNum AlignRight">239</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">209</td>
<td class="TextItemNum AlignRight">240</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.sprite(0, 2);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">210</td>
<td class="TextItemNum AlignRight">241</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">211</td>
<td class="TextItemNum AlignRight">242</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">212</td>
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; else if (this.currentDirection === LEFT &amp;&amp; !this.isJumping) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (this.isMoving) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* Start running again */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.animate('moveLeft', -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; this.sprite(0, 1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .checkHits('Platform')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('HitOn', function(hitData){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; /* If underneath player, bounce back down */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.disableControl();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.gravityConst(1000);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.velocity().x = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">227</td>
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.velocity().y = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">228</td>
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; Crafty.e("Delay").delay(reinstateMovement, 500, 1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">229</td>
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">230</td>
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('TweenEnd', function(prop){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">231</td>
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if(this.alpha === 0.0){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">232</td>
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; this.destroy();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">233</td>
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">234</td>
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">235</td>
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind(EVENT_PLAYER_DIE, function () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">236</td>
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.tween({ alpha: 0.0 }, 1000);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">237</td>
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; Crafty.trigger(EVENT_GAME_OVER);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">238</td>
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">239</td>
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind(EVENT_PLAYER_HIT_WALKER, function () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">240</td>
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.vy = -400;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">241</td>
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.tween({ y: this.y - 100 }, 300);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">242</td>
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind(EVENT_LEVEL_COMPLETE, function () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; this.disableControl();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .bind('EnterFrame', function(){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if(this.x &lt;= -6) this.x = -5;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if(this.x &gt;= 3785) this.x = 3784;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; /* Set player defaults */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.isJumping = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemNum AlignRight">284</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.currentDirection = RIGHT;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemNum AlignRight">285</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.isMoving = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemNum AlignRight">286</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.reel('moveRight');</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemNum AlignRight">287</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.bounced = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemNum AlignRight">288</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.inDoubleJumpMode = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemNum AlignRight">289</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemNum AlignRight">290</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemNum AlignRight">291</td>
<td class="TextItemSame">function spawnWalkers () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemNum AlignRight">292</td>
<td class="TextItemSame">&nbsp; Crafty.e('Delay').delay(spawnWalker, Crafty.math.randomInt(2000, 8000), -1);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemNum AlignRight">293</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemNum AlignRight">294</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemNum AlignRight">295</td>
<td class="TextItemSame">function spawnWalker () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemNum AlignRight">296</td>
<td class="TextItemSame">&nbsp; Crafty.e('Walker');</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemNum AlignRight">297</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemNum AlignRight">298</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemNum AlignRight">299</td>
<td class="TextItemSame">/*</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; The tilemap generation. <span class="TextSegSigDiff">An</span> e<span class="TextSegSigDiff">xamp</span><span class="TextSegSigDiff">l</span><span class="TextSegSigDiff">e</span> <span class="TextSegSigDiff">of</span> the <span class="TextSegSigDiff">firs</span>t<span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">row</span><span class="TextSegInsigDiff"> </span>is<span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">show</span>n<span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">below</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; <span class="TextSegSigDiff">[[0,1],[8,1],[0,13],[4,1],[0,8],[8,1],[0,5],[4,1],[0,7],[1,1],[8,1]],</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">300</td>
<td class="TextItemSigMod">&nbsp; The tilemap generation. <span class="TextSegSigDiff">Tile</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">level</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">maps</span> <span class="TextSegSigDiff">ar</span>e<span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">'</span><span class="TextSegSigDiff">pulled'</span> <span class="TextSegSigDiff">from</span> the ti<span class="TextSegSigDiff">lemap.j</span>s<span class="TextSegSigDiff">o</span>n</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">301</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">file</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">which</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">is</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">in</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">the</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">'runner'</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">directory.</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">You</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">can</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">add</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">as</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">many</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">levels</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">as</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">you</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">302</td>
<td class="TextItemSigMod">&nbsp; <span class="TextSegSigDiff">want.</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemNum AlignRight">303</td>
<td class="TextItemSame">*/</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemNum AlignRight">304</td>
<td class="TextItemSame">function generateMap () {</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; const Y_OFFSET = 600 - (t<span class="TextSegSigDiff">il</span>eMap.length * TILE_HEIGHT);</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; t<span class="TextSegSigDiff">il</span>eMap.map(function (tileRow, rowIdx) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">305</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">_tileMap.map(function(lv,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">idx){</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">306</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">if(lv.level</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">===</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">__STATE.level){</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">307</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">var</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">tempMap</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">=</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lv.map;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">308</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">tempMap</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">=</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lv.map;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">309</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">processMap(tempMap);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">310</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">return;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">311</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">312</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">});</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">313</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">314</td>
<td class="TextItemInsigMod">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">315</td>
<td class="TextItemSigMod"><span class="TextSegSigDiff">function</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">processMap(tempMap){</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">316</td>
<td class="TextItemSigMod">&nbsp; const Y_OFFSET = 600 - (te<span class="TextSegSigDiff">mp</span>Map.length * TILE_HEIGHT);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">317</td>
<td class="TextItemSigMod">&nbsp; te<span class="TextSegSigDiff">mp</span>Map.map(function (tileRow, rowIdx) {</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemNum AlignRight">318</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; var xPos = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemNum AlignRight">319</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; var yPos = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemNum AlignRight">320</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; tileRow.map(function (tile, tileIdx) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemNum AlignRight">321</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; yPos = Y_OFFSET + (rowIdx * 60);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemNum AlignRight">322</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; var tileType = tile[0];</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemNum AlignRight">323</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; var tileNum = tile[1];</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemNum AlignRight">324</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if (tileType === 0){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemNum AlignRight">325</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; xPos += (tileNum * 80);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">284</td>
<td class="TextItemNum AlignRight">326</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">285</td>
<td class="TextItemNum AlignRight">327</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if (tileType === 1) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">286</td>
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(var i=0; i &lt; tileNum; i++){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">287</td>
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Crafty.e('FloorTile, 2D, DOM, Image, Collision')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">288</td>
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .attr({ x: xPos, y: yPos, w: TILE_WIDTH, h: TILE_HEIGHT })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">289</td>
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .image(Crafty.assets['img/tile-' + tileType + '.png'].src);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">290</td>
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; xPos += 80;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">291</td>
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">292</td>
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">293</td>
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; else{</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">294</td>
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (tileType === 4) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">295</td>
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Crafty.e('Platform')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">296</td>
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .setImage('img/platform.png')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">297</td>
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .setPlatform(xPos, yPos, 1)</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">298</td>
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .addCoins(Crafty.math.randomInt(1,2));</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">299</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemInsigMod">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; xPos += 160;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemInsigMod">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="TextSegInsigDiff">&nbsp; </span>xPos += 160;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">300</td>
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">301</td>
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if (tileType === 8) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">302</td>
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Crafty.e('Platform')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">303</td>
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .setImage('img/platformx2.png')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">304</td>
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .setPlatform(xPos, yPos, 2)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">305</td>
<td class="TextItemNum AlignRight">347</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .addCoins(Crafty.math.randomInt(1,2));</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">306</td>
<td class="TextItemNum AlignRight">348</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; xPos += 320;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">307</td>
<td class="TextItemNum AlignRight">349</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">308</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">xPos</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">+=</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">80;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">309</td>
<td class="TextItemNum AlignRight">350</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">310</td>
<td class="TextItemNum AlignRight">351</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; if(rowIdx === 6) console.log('x:',xPos,'y:',yPos);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">311</td>
<td class="TextItemNum AlignRight">352</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; });</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">312</td>
<td class="TextItemNum AlignRight">353</td>
<td class="TextItemSame">&nbsp; });</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">313</td>
<td class="TextItemNum AlignRight">354</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">314</td>
<td class="TextItemNum AlignRight">355</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">315</td>
<td class="TextItemNum AlignRight">356</td>
<td class="TextItemSame">function displayText () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">316</td>
<td class="TextItemNum AlignRight">357</td>
<td class="TextItemSame">&nbsp; displayScore();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">317</td>
<td class="TextItemNum AlignRight">358</td>
<td class="TextItemSame">&nbsp; displayTimeLeft();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">318</td>
<td class="TextItemNum AlignRight">359</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">319</td>
<td class="TextItemNum AlignRight">360</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">320</td>
<td class="TextItemNum AlignRight">361</td>
<td class="TextItemSame">function displayTimeLeft () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">321</td>
<td class="TextItemNum AlignRight">362</td>
<td class="TextItemSame">&nbsp; if(_timeLeftDisplay){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">322</td>
<td class="TextItemNum AlignRight">363</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _timeLeftDisplay.destroy();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">323</td>
<td class="TextItemNum AlignRight">364</td>
<td class="TextItemSame">&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">324</td>
<td class="TextItemNum AlignRight">365</td>
<td class="TextItemSame">&nbsp; _timeLeftDisplay = Crafty.e("2D, DOM, Text")</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">325</td>
<td class="TextItemNum AlignRight">366</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .attr({ x: 720 - Crafty.viewport._x, y: 20 })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">326</td>
<td class="TextItemNum AlignRight">367</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .text(__STATE.timeLeft)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">327</td>
<td class="TextItemNum AlignRight">368</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .textColor('#FF0000')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemNum AlignRight">369</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .textFont({ size: '14px', weight: 'bold', family: 'Courier New' });</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemNum AlignRight">370</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemNum AlignRight">371</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemNum AlignRight">372</td>
<td class="TextItemSame">function displayScore () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemNum AlignRight">373</td>
<td class="TextItemSame">&nbsp; if(_scoreDisplay){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemNum AlignRight">374</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _scoreDisplay.destroy();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemNum AlignRight">375</td>
<td class="TextItemSame">&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemNum AlignRight">376</td>
<td class="TextItemSame">&nbsp; _scoreDisplay = Crafty.e("2D, DOM, Text")</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemNum AlignRight">377</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .attr({ x: 750 - Crafty.viewport._x, y: 20 })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemNum AlignRight">378</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .text(pad(__STATE.currentScore, 3))</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemNum AlignRight">379</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .textColor('#FF0000')</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemNum AlignRight">380</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .textFont({ size: '14px', weight: 'bold', family: 'Courier New' });</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemNum AlignRight">381</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemNum AlignRight">382</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemNum AlignRight">383</td>
<td class="TextItemSame">function displayGameOver(){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemNum AlignRight">384</td>
<td class="TextItemSame">&nbsp; if(Crafty("GameOver"))</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemNum AlignRight">385</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; Crafty("GameOver").destroy();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemNum AlignRight">386</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemNum AlignRight">387</td>
<td class="TextItemSame">&nbsp; Crafty.e("GameOver, 2D, DOM, Text")</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">347</td>
<td class="TextItemNum AlignRight">388</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .attr({ x: 280 - Crafty.viewport._x, y: 280, z:100, w: 250 })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">348</td>
<td class="TextItemNum AlignRight">389</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .text("GAME OVER").textColor('#FF0000').textFont({ size: '36px', weight: 'bold', family: 'Courier New' });</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">349</td>
<td class="TextItemNum AlignRight">390</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">350</td>
<td class="TextItemNum AlignRight">391</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">351</td>
<td class="TextItemNum AlignRight">392</td>
<td class="TextItemSame">function displayLevelComplete(){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">352</td>
<td class="TextItemNum AlignRight">393</td>
<td class="TextItemSame">&nbsp; if(Crafty("LevelComplete"))</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">353</td>
<td class="TextItemNum AlignRight">394</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; Crafty("LevelComplete").destroy();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">354</td>
<td class="TextItemNum AlignRight">395</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">355</td>
<td class="TextItemNum AlignRight">396</td>
<td class="TextItemSame">&nbsp; Crafty.e("LevelComplete, 2D, DOM, Text")</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">356</td>
<td class="TextItemNum AlignRight">397</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; .attr({ x: 270 - Crafty.viewport._x, y: 280, z:100, w: 350 })</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">357</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp;&nbsp;&nbsp; .text("LEVEL COMPLETE").textColor('#33FF33').textFont({ size: '36px', weight: 'bold', family: 'Courier New' });</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">398</td>
<td class="TextItemSigMod">&nbsp;&nbsp;&nbsp; .text("LEVEL <span class="TextSegSigDiff">"+__STATE.level+"</span><span class="TextSegInsigDiff"> </span>COMPLETE").textColor('#33FF33').textFont({ size: '36px', weight: 'bold', family: 'Courier New' });</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">358</td>
<td class="TextItemNum AlignRight">399</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">359</td>
<td class="TextItemNum AlignRight">400</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">360</td>
<td class="TextItemNum AlignRight">401</td>
<td class="TextItemSame">function updateScore(amt){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">361</td>
<td class="TextItemNum AlignRight">402</td>
<td class="TextItemSame">&nbsp; __STATE.currentScore += amt;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">362</td>
<td class="TextItemNum AlignRight">403</td>
<td class="TextItemSame">&nbsp; displayScore();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">363</td>
<td class="TextItemNum AlignRight">404</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">364</td>
<td class="TextItemNum AlignRight">405</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">365</td>
<td class="TextItemNum AlignRight">406</td>
<td class="TextItemSame">function pad(num, size) {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">366</td>
<td class="TextItemNum AlignRight">407</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; var s = num+"";</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">367</td>
<td class="TextItemNum AlignRight">408</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; while (s.length &lt; size) s = "0" + s;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">368</td>
<td class="TextItemNum AlignRight">409</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; return s;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">369</td>
<td class="TextItemNum AlignRight">410</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">370</td>
<td class="TextItemNum AlignRight">411</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">371</td>
<td class="TextItemNum AlignRight">412</td>
<td class="TextItemSame">function setupGlobalBindings () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">372</td>
<td class="TextItemNum AlignRight">413</td>
<td class="TextItemSame">&nbsp; Crafty.bind(EVENT_GAME_OVER, function(){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">373</td>
<td class="TextItemNum AlignRight">414</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.disableControl();</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">374</td>
<td class="TextItemNum AlignRight">415</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; pauseAndResetAnimation(_player);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">416</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">_player.destroy();</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">375</td>
<td class="TextItemNum AlignRight">417</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; displayGameOver();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">376</td>
<td class="TextItemNum AlignRight">418</td>
<td class="TextItemSame">&nbsp; })</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">377</td>
<td class="TextItemNum AlignRight">419</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">378</td>
<td class="TextItemNum AlignRight">420</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">379</td>
<td class="TextItemNum AlignRight">421</td>
<td class="TextItemSame">function pauseAndResetAnimation (ent){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">380</td>
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemSame">&nbsp; ent.pauseAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">381</td>
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemSame">&nbsp; ent.resetAnimation();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">382</td>
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">383</td>
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">384</td>
<td class="TextItemNum AlignRight">426</td>
<td class="TextItemSame">function reinstateMovement () {</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">427</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">console.log('Enabling</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">controls...');</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">385</td>
<td class="TextItemNum AlignRight">428</td>
<td class="TextItemSame">&nbsp; if(!__STATE.levelComplete){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">386</td>
<td class="TextItemNum AlignRight">429</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; _player.enableControl();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">387</td>
<td class="TextItemNum AlignRight">430</td>
<td class="TextItemSame">&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">388</td>
<td class="TextItemNum AlignRight">431</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">389</td>
<td class="TextItemNum AlignRight">432</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">390</td>
<td class="TextItemNum AlignRight">433</td>
<td class="TextItemSame">function reset () {</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">391</td>
<td class="TextItemNum AlignRight">434</td>
<td class="TextItemSame">&nbsp; _player = null;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">392</td>
<td class="TextItemNum AlignRight">435</td>
<td class="TextItemSame">&nbsp; _viewportX = 0;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">393</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; _scoreDisplay = "";</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">436</td>
<td class="TextItemSigMod">&nbsp; _scoreDisplay = <span class="TextSegSigDiff">__STATE.level</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">===</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">1</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">?</span><span class="TextSegInsigDiff"> </span>""<span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">:</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">_scoreDisplay</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">394</td>
<td class="TextItemNum AlignRight">437</td>
<td class="TextItemSame">&nbsp; _gameStartTime = (new Date()).getTime();</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">395</td>
<td class="TextItemNum AlignRight">438</td>
<td class="TextItemSame">&nbsp; _timeLeftDisplay = "";</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">396</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; _secondsTotal = 12<span class="TextSegSigDiff">0</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">439</td>
<td class="TextItemSigMod">&nbsp; _secondsTotal = 12<span class="TextSegSigDiff">5</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">-</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">__STATE.level</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">*</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">5</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">397</td>
<td class="TextItemNum AlignRight">440</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">398</td>
<td class="TextItemNum AlignRight">441</td>
<td class="TextItemSame">&nbsp; __STATE.gameStarted = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">399</td>
<td class="TextItemNum AlignRight">442</td>
<td class="TextItemSame">&nbsp; __STATE.gameOver = false;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">400</td>
<td class="TextItemNum AlignRight">443</td>
<td class="TextItemSame">&nbsp; __STATE.timeLeft = _secondsTotal;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">401</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigMod">&nbsp; __STATE.currentScore = 0;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">444</td>
<td class="TextItemSigMod">&nbsp; __STATE.currentScore = <span class="TextSegSigDiff">__STATE.level</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">===</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">1</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">?</span><span class="TextSegInsigDiff"> </span>0<span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">:</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">__STATE.currentScore</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">402</td>
<td class="TextItemNum AlignRight">445</td>
<td class="TextItemSame">&nbsp; __STATE.gameOverIsDisplaying = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">403</td>
<td class="TextItemNum AlignRight">446</td>
<td class="TextItemSame">&nbsp; __STATE.numCoinsToCollect = 0;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">404</td>
<td class="TextItemNum AlignRight">447</td>
<td class="TextItemSame">&nbsp; __STATE.levelComplete = false;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">405</td>
<td class="TextItemNum AlignRight">448</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">406</td>
<td class="TextItemNum AlignRight">449</td>
<td class="TextItemSame">&nbsp; /* Position viewport */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">407</td>
<td class="TextItemNum AlignRight">450</td>
<td class="TextItemSame">&nbsp; Crafty.viewport.scroll('_x', 0)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">408</td>
<td class="TextItemNum AlignRight">451</td>
<td class="TextItemSame">}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">409</td>
<td class="TextItemNum AlignRight">452</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">410</td>
<td class="TextItemNum AlignRight">453</td>
<td class="TextItemSame">Crafty.bind('EnterFrame', function(){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">411</td>
<td class="TextItemNum AlignRight">454</td>
<td class="TextItemSame">&nbsp; if(!__STATE.gameStarted || __STATE.levelComplete)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">412</td>
<td class="TextItemNum AlignRight">455</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; return;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">413</td>
<td class="TextItemNum AlignRight">456</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">414</td>
<td class="TextItemNum AlignRight">457</td>
<td class="TextItemSame">&nbsp; if(Crafty.frame() % 50 === 1){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">415</td>
<td class="TextItemNum AlignRight">458</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; __STATE.timeLeft = _secondsTotal - Math.round(((new Date()).getTime() - _gameStartTime) / 1000);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">416</td>
<td class="TextItemNum AlignRight">459</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; if(__STATE.timeLeft &lt;= -1){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">417</td>
<td class="TextItemNum AlignRight">460</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp;&nbsp; __STATE.gameOver = true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">418</td>
<td class="TextItemNum AlignRight">461</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">419</td>
<td class="TextItemNum AlignRight">462</td>
<td class="TextItemSame">&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">420</td>
<td class="TextItemNum AlignRight">463</td>
<td class="TextItemSame">&nbsp; if(__STATE.gameOver &amp;&amp; !__STATE.gameOverIsDisplaying){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">421</td>
<td class="TextItemNum AlignRight">464</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; /* Display Game Over */</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemNum AlignRight">465</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; Crafty.trigger(EVENT_GAME_OVER);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemNum AlignRight">466</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; __STATE.gameOverIsDisplaying = true;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemNum AlignRight">467</td>
<td class="TextItemSame">&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemNum AlignRight">468</td>
<td class="TextItemSame">&nbsp; if(!__STATE.gameOver){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">426</td>
<td class="TextItemNum AlignRight">469</td>
<td class="TextItemSame">&nbsp;&nbsp;&nbsp; displayTimeLeft();</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">427</td>
<td class="TextItemNum AlignRight">470</td>
<td class="TextItemSame">&nbsp; }</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">428</td>
<td class="TextItemNum AlignRight">471</td>
<td class="TextItemSame">})</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">429</td>
<td class="TextItemNum AlignRight">472</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">430</td>
<td class="TextItemNum AlignRight">473</td>
<td class="TextItemSame">Crafty.bind(EVENT_LEVEL_COMPLETE, function(){</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">431</td>
<td class="TextItemNum AlignRight">474</td>
<td class="TextItemSame">&nbsp; console.log('Level Complete...');</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">432</td>
<td class="TextItemNum AlignRight">475</td>
<td class="TextItemSame">&nbsp; __STATE.levelComplete = true;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">433</td>
<td class="TextItemNum AlignRight">476</td>
<td class="TextItemSame">&nbsp; displayLevelComplete();</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">477</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">Crafty.e("Delay").delay(function(){</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">478</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">/*</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Destroy</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">everything</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">*/</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">479</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">Crafty("2D").each(function(i)</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">480</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="TextSegSigDiff">this.destroy();</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">481</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">});</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">482</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">++__STATE.level;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">483</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp;&nbsp;&nbsp; </span><span class="TextSegSigDiff">initialiseGame();</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">484</td>
<td class="TextItemSigMod"><span class="TextSegInsigDiff">&nbsp; </span><span class="TextSegSigDiff">},</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">2000,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">0);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">434</td>
<td class="TextItemNum AlignRight">485</td>
<td class="TextItemSame">})</td>
</tr>
</tbody></table>
<br>


</body></html>